# KG-based RAG for Querying Aviation Safety Data | Phase 03: RAG Interface

Phase 03 completes the pipeline by implementing the **Retrieval-Augmented Generation (RAG)** layer. This phase bridges the gap between the Neo4j Knowledge Graph and the User, allowing for natural language querying of complex aviation safety data.


## üöÄ Phase 03 Objectives
* **Natural Language to Cypher:** Leverage the Groq LLM to translate English questions into precise Cypher queries.
* **Contextual Retrieval:** Extract relevant sub-graphs and properties from Neo4j to provide factual context to the LLM.
* **Response Synthesis:** Generate human-readable insights based on structured graph data.
* **Interactive Dashboard:** A Flask-based web interface to visualize query results and system metrics.

## üõ†Ô∏è Tech Stack
* **LLM Provider:** Groq (Llama 3/Mixtral)
* **Frameworks:** Flask (Web Server), LangChain (Query Logic)
* **Database:** Neo4j (Knowledge Graph)
* **Frontend:** HTML/Bootstrap (Interactive Dashboard)

## üß† How the GraphRAG Works

1.  **User Input:** The user asks a question like *"Which aircraft manufacturer has the most engine-related incidents in 2023?"*
2.  **Cypher Generation:** The LLM uses the schema metadata (generated in Phase 02) to write a Cypher query.
3.  **Graph Execution:** The query runs against Neo4j to pull structured facts.
4.  **Answer Synthesis:** The LLM receives the raw data and drafts a professional response, citing specific aircraft or event IDs.



## üìã Installation & Setup

### 1. Requirements
```bash
pip install flask groq neo4j langchain-openai
```

### 2. Environment Variables
Ensure your credentials are set up (use a `.env` file locally):
* NEO4J_URI
* NEO4J_PASSWORD
* GROQ_API_KEY

### 3. Running the Interface
Run the script to start the local Flask server:

```bash
python kg_based_phase_03.py
```

Access the dashboard at http://localhost:5000.

## üñ•Ô∏è Dashboard Features
* **Query Console:** Ask questions in plain English.
* **System Metrics:** Real-time tracking of node counts and relationship density.
* **Raw Output View:** See the exact Cypher query and JSON response generated by the system.

## üìÖ Roadmap
* [x] Phase 01: Data Cleaning & Preprocessing
* [x] Phase 02: Neo4j Graph Implementation
* [x] Phase 03: RAG Interface & Natural Language Querying (Cypher Generation)



